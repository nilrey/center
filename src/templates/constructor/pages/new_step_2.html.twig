{% extends 'constructor/new_layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('bundles/ncuoportal/css/foiv.form.css') }}" />
    <style>.imagePreview img{max-width: 200px} table.dataTable input[type="file"]{ margin-left: 20px}</style>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/ncuooiv/js/imgBase64.js') }}"></script>
{% endblock %}

{% block nameheader %}
<div class="container-fluid" style="line-height: 40px">
  <div class="row">
    <div class="col-8" style="font-weight: 600; font-size: 16px; margin-left: 38px">
        Новый шаблон таблицы. Шаг 2 - параметры столбцов
    </div>
  </div>
</div>
{% endblock %} 

{% block content %}

<div style="width: 95%; margin: auto; margin-top: 30px">
        <div id="dialog_msg_info" class="display-none" hidden title="Инфо"></div>
        <div id="error_msg_dialog" class="display-none"  title="Внимание" hidden></div>
        <form class="form-inline" id="create_data" method="post" action="{{urlAction}}">

            <table class="table table-striped table-bordered dataTable editForm">
                    <tbody>
                    {#}
                    {% if PARAMS is defined %}
                    {% set cnt = 0 %}
                    {% for i in 1..PARAMS['cols_num'] %}
                    {% set cnt = cnt + 1 %}

                        <tr>
                            <td>
                                Столбец #{{cnt}}. Название в заголовке:
                            </td>
                            <td>
                                <textarea name="FIELDS[column_{{cnt}}]" cols=100 rows=1></textarea>
                            </td>
                        </tr>

                    {% endfor %}
                    {% endif %}
                    {#}
                        <tr>
                            <td>
                                Столбец #1. Название в заголовке:
                            </td>
                            <td>
                                <textarea name="FIELDS[columns][column_1][name]" cols=100 rows=1>Наименование показателей</textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Столбец #2. Название в заголовке:
                            </td>
                            <td>
                                <textarea name="FIELDS[columns][column_2][name]" cols=100 rows=1>1 квартал</textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Столбец #3. Название в заголовке:
                            </td>
                            <td>
                                <textarea name="FIELDS[columns][column_3][name]" cols=100 rows=1>2 квартал</textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Столбец #4. Название в заголовке:
                            </td>
                            <td>
                                <textarea name="FIELDS[columns][column_4][name]" cols=100 rows=1>3 квартал</textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Столбец #5. Название в заголовке:
                            </td>
                            <td>
                                <textarea name="FIELDS[columns][column_5][name]" cols=100 rows=1>4 квартал</textarea>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Столбец #6. Название в заголовке:
                            </td>
                            <td>
                                <textarea name="FIELDS[columns][column_6][name]" cols=100 rows=1>Итого</textarea>
                            </td>
                        </tr>
                    </tbody>
            </table>
            <div class="container-fluid" style="padding-bottom: 50px">
                <div class="row">
                  <div class="col" style="text-align: left; padding-left: 0px;">
                    <button type="submit"  class="btn btn-primary" style="background: none; color: #228BE6; width: 140px; margin-top: 15px; margin-right: 15px;">Продолжить</button>
                    <button type="button" onclick="window.location.replace('/public/constructor/table_new_step_1')" class="btn btn-primary" style="background: none; color: #228BE6; width: 170px; margin-top: 15px; margin-right: 50px;">Вернуться на шаг</button>
                    <button type="button" onclick="window.location.replace('/public/constructor')" class="btn btn-primary" style="background: none; color: #228BE6; width: 190px; margin-top: 15px;">Вернуться к списку</button>
                  </div>
                </div>
            </div> 
        </form>
</div>        

        {% if message is defined and message.message_text is defined %}
        <script>
        $(document).ready( function (){
            getModalDialogInfo('{{ message.message_text }}');
        } )
        </script>
        {% endif %}
        
{% endblock %}

